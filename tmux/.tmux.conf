# Remap the prefix key to CTRL A
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# set -g status-utf8 on
# set -g utf8 on

set -g default-terminal "xterm-256color"
# set -a terminal-features "xterm-256color:RGB"

# Use vim motion on scroll mode <C-a> [
set-window-option -g mode-keys vi

# Status bar styling
# gruvbox material colorscheme (mostly)
RED="#ea6962"
GREEN="#a9b665"
YELLOW="#d8a657"
BLUE="#7daea3"
MAGENTA="#d3869b"
CYAN="#89b482"
BLACK="#1d2021"
DARK_GRAY="#32302F"
LIGHT_GRAY="#4F4946"
BG="#32302F"
FG="#d4be98"

# Nerdfont characters
HALF_ROUND_OPEN="#(printf '\uE0B6')"
HALF_ROUND_CLOSE="#(printf '\uE0B4')"
TRIANGLE_OPEN="#(printf '\uE0B2')"
TRIANGLE_CLOSE="#(printf '\uE0B0')"
LEFT_ARROW="#(printf '\u3008')"
RIGHT_ARROW="#(printf '\u3009')"

# tmux-battery colors
set -g @batt_color_charge_primary_tier8  '#00ff00'
set -g @batt_color_charge_primary_tier7  '#55ff00'
set -g @batt_color_charge_primary_tier6  '#aaff00'
set -g @batt_color_charge_primary_tier5  '#ffff00'
set -g @batt_color_charge_primary_tier4  '#ffc000'
set -g @batt_color_charge_primary_tier3  '#ff8000'
set -g @batt_color_charge_primary_tier2  '#ff4000'
set -g @batt_color_charge_primary_tier1  '#ff0000'
set -g @batt_color_charge_secondary_tier8  'colour0'
set -g @batt_color_charge_secondary_tier7  'colour0'
set -g @batt_color_charge_secondary_tier6  'colour0'
set -g @batt_color_charge_secondary_tier5  'colour0'
set -g @batt_color_charge_secondary_tier4  'colour0'
set -g @batt_color_charge_secondary_tier3  'colour0'
set -g @batt_color_charge_secondary_tier2  'colour0'
set -g @batt_color_charge_secondary_tier1  'colour0'

set -g @batt_color_status_primary_charged  'colour33'
set -g @batt_color_status_primary_charging  'colour33'
set -g @batt_color_status_primary_discharging  'colour14'
set -g @batt_color_status_primary_attached  'colour201'
set -g @batt_color_status_primary_unknown  '#32302F'
set -g @batt_color_status_secondary_charged  'colour0'
set -g @batt_color_status_secondary_charging  'colour0'
set -g @batt_color_status_secondary_discharging  'colour0'
set -g @batt_color_status_secondary_attached  'colour0'
set -g @batt_color_status_secondary_unknown  'colour0'

# tmux-battery icons
# set -g @batt_icon_charge_tier8 'â–ˆ'
# set -g @batt_icon_charge_tier7 'â–‡'
# set -g @batt_icon_charge_tier6 'â–†'
# set -g @batt_icon_charge_tier5 'â–…'
# set -g @batt_icon_charge_tier4 'â–„'
# set -g @batt_icon_charge_tier3 'â–ƒ'
# set -g @batt_icon_charge_tier2 'â–‚'
# set -g @batt_icon_charge_tier1 'â–'
set -g @batt_icon_charge_tier8 'ðŸŒ•'
set -g @batt_icon_charge_tier7 'ðŸŒ–'
set -g @batt_icon_charge_tier6 'ðŸŒ–'
set -g @batt_icon_charge_tier5 'ðŸŒ—'
set -g @batt_icon_charge_tier4 'ðŸŒ—'
set -g @batt_icon_charge_tier3 'ðŸŒ˜'
set -g @batt_icon_charge_tier2 'ðŸŒ˜'
set -g @batt_icon_charge_tier1 'ðŸŒ‘'
set -g @batt_icon_status_charged 'ðŸ”‹'
set -g @batt_icon_status_charging 'âš¡'
set -g @batt_icon_status_discharging 'ðŸ‘Ž'
# set -g @batt_icon_status_unknown 'ðŸ”‹'
set -g @batt_icon_status_unknown '\u2605'
set -g @batt_color_status_primary_charged '#3daee9'
set -g @batt_color_status_primary_charging '#3daee9'

set-option -g status-style bg=${BG},fg=${FG}
set-option -g status-justify left

# # Style and set contents on the left section
# set-option -g status-left "\
# #[bg=${YELLOW},fg=${DARK_GRAY}] #S \
# #[bg=${BG},fg=${YELLOW}]${TRIANGLE_CLOSE} \
# "

# Set update every n seconds
set -g status-interval 15

# Style and set contents on the right section
# set-option -g status-right "\
# ${LEFT_ARROW} \
# #{network_bandwidth}${LEFT_ARROW} \
# #{cpu_percentage}${LEFT_ARROW} #{ram_percentage}\
# ${LEFT_ARROW} #{battery_percentage} \
# #[bg=${BG},fg=${YELLOW}]${TRIANGLE_OPEN}\
# #[bg=${YELLOW},fg=${DARK_GRAY}] %H:%M \
# "

# Set max length of left and right section
set-option -g status-left-length 100
set-option -g status-right-length 100

# tmux-nerd-font-window-name
# set -g automatic-rename-format " #{window_icon} #{b:pane_current_path}"

# # Style and set content for the inactive windows
# set-option -g window-status-format "\
# #[bg=${BG}]#I\
# #[fg=${MAGENTA}]:\
# #[fg=default]#W \
# ${RIGHT_ARROW}\
# "

# # Style and set content for the active windows
# set-option -g window-status-current-format "\
# #[fg=${RED}]#I\
# #[fg=${RED}]:\
# #[fg=${RED}]#W \
# ${RIGHT_ARROW}\
# "

# Remove the separator between window list items, as we already have spacing
# "around" inactive items
# set-option -g window-status-separator ""

# Change the base index for window and pane to 1
set-option -g base-index 1
set-option -g pane-base-index 1

# Automatically renumber window
set-option -g renumber-windows on

# Enable mouse support
set-option -g mouse on

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-cpu'
# set -g @plugin 'tmux-plugins/tmux-battery'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'rose-pine/tmux'
# set -g @plugin 'joshmedeski/tmux-nerd-font-window-name'
# set -g @plugin 'xamut/tmux-network-bandwidth'

# Colorscheme
set -g @rose_pine_variant 'main'
set -g @rose_pine_user 'on'
set -g @rose_pine_disable_active_window_menu 'on'
set -g @rose_pine_window_status_separator " "
# set -g @rose_pine_left_separator ' > '
# set -g @rose_pine_current_window_icon 'î¬£'
set -g @rose_pine_window_separator ':'
set -g @rose_pine_status_left_append_section " "
# set -g @rose_pine_date_time '%H:%M'

# Change pane border lines thickness
# set -g pane-border-lines single

# Change directory to last pane directory when splitting pane
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Change directory to last window directory when creating new window
bind 'c' new-window -c "#{pane_current_path}"

# Allow undercurls
# set -as terminal-overrides ',xterm*:Tc

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
